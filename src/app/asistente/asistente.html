<!-- TOPBAR FIJA -->
<router-outlet></router-outlet>
<div class="w-full bg-[#5B9BBe] py-4 flex items-center justify-center rounded-b-2xl shadow-md fixed top-0 left-0 z-10">
    <div class="fixed top-4 left-4 z-50">
        <button (click)="toggleMenu()" class="text-white focus:outline-none">
          <i class="pi pi-bars text-2xl"></i>
        </button>
    </div>
    <div class="w-full flex justify-center">
        <h1 class="text-white font-extrabold text-lg tracking-wide">PYEXPRESS</h1>
    </div>
</div>

<!-- CONTENEDOR QUE RELLENA TODA LA PANTALLA (menos el topbar) -->
<div class="w-full" style="height: calc(100vh - 72px); margin-top: 72px;">

    <!-- FORMULARIO que ocupa TODO el espacio -->
    <div class="w-full h-full bg-white flex items-start justify-center px-4 pt-2">

        <div class="w-full max-w-md">

            <div class="flex items-center justify-between px-4 pt-4 pb-2 relative">
                <!-- Flecha izquierda -->
                <button class="absolute left-4 text-[#5295b2]">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                  </svg>
                </button>
                
                <!-- Título centrado -->
                <h1 class="w-full text-center text-xl font-bold text-gray-700">Expoasistente</h1>
            </div>
            <div class="border-t border-[#5295b2]"></div>
            <div class="flex justify-start mt-4">
                <div class="bg-[#b4def1] text-white p-4 w-fit max-w-[90%] rounded-tr-2xl rounded-br-2xl rounded-bl-2xl">
                    Ut nisi velit, mollis eget egestas ac, commodo et purus. Ut sit amet lacus lobortis purus tristique blandit eget non ante. Sed vitae faucibus libero.
                </div>
            </div>
            <div class="flex justify-end mt-2">
                <div class="bg-[#a8d4b9] text-white p-4 w-fit max-w-[90%] rounded-bl-2xl rounded-tl-2xl rounded-br-2xl">
                  Ut nisi velit, mollis eget egestas ac, commodo et purus. Ut sit amet lacus lobortis purus tristique blandit eget non ante. Sed vitae faucibus libero.
                </div>
            </div>   
            <div class="flex items-center border border-gray-300 rounded-xl px-4 py-2 w-full max-w-xl">
                <input
                  type="text"
                  placeholder="Escribe un mensaje..."
                  class="flex-1 outline-none text-gray-700 placeholder-gray-400"
                  [(ngModel)]="mensaje"
                />
                <button (click)="startListening()" class="ml-2 text-blue-500 hover:text-blue-600">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
                       viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                          d="M12 1v10m0 0c2.21 0 4-1.79 4-4V5a4 4 0 10-8 0v2c0 2.21 1.79 4 4 4zm0 0v6m4 0H8" />
                  </svg>
                </button>
              </div>  
        </div>

    </div>
    
</div>

<!-- Fondo translúcido -->
<div
  class="fixed top-0 left-0 w-full h-full bg-[#5b9abd]/60 backdrop-blur-sm z-30 transition-opacity duration-300"
  *ngIf="menuOpen"
  (click)="toggleMenu()"
></div>
<div
  class="fixed top-0 left-0 h-full w-[260px] bg-[#5b9abd] text-white z-40 transform transition-transform duration-300 ease-in-out"
  [ngClass]="{ '-translate-x-full': !menuOpen, 'translate-x-0': menuOpen }">
  <!-- Logo -->
  <div class="text-center font-extrabold text-white text-xl py-6">
    PYEXPRESS
  </div>

  <!-- Opciones del menú -->
  <ul class="px-4 space-y-3">
    <li
      *ngFor="let item of menuItems"
      [routerLink]="item.routerLink"
      (click)="selectMenuItem(item.label)"
      class="flex items-center gap-3 px-4 py-3 rounded-xl cursor-pointer transition-all duration-200"
      [ngClass]="{
        'bg-white text-[#5b9abd] shadow-md': selectedItem === item.label,
        'hover:bg-white hover:text-[#5b9abd]': selectedItem !== item.label
      }"
    >
      <i [class]="item.icon + ' text-lg'"></i>
      <span class="text-sm font-semibold">{{ item.label }}</span>
    </li>
  </ul>
</div>